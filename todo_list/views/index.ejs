<%- include('partials/header') %>

<div class="container mt-5">

    <!-- Page Title -->
    <h1 class="text-center mb-4">My Todo List</h1>

    <!-- Add New Task Button -->
    <div class="text-center mb-4">
        <a href="/tasks/new" class="btn btn-primary">Add New Task</a>
    </div>

    <!-- Task List -->
    <ul class="list-group">
        <% if (tasks.length === 0) { %>
            <li class="list-group-item text-center">No tasks found. Add a new task!</li>
        <% } else { %>
            <% tasks.forEach(task => { %>
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    <span><%= task.title %></span>
                    <div>
                        <!-- Edit Button (optional) -->
                        <a href="/tasks/<%= task._id %>/edit" class="btn btn-warning btn-sm me-2">Edit</a>
                        <!-- Delete Button -->
                        <form action="/tasks/<%= task._id %>?_method=DELETE" method="POST" class="d-inline">
                            <button class="btn btn-danger btn-sm">Delete</button>
                        </form>
                    </div>
                </li>
            <% }) %>
        <% } %>
    </ul>

</div>

<%- include('partials/footer') %>
